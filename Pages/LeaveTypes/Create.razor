@page "/leave-types/create"
@inject ILeaveTypeService LeaveTypeService
@inject NavigationManager Navigation


<h3>Add Leave Type</h3>

<EditForm Model="leaveType" OnValidSubmit="HandleValidSubmit">
    <DataAnnotationsValidator />

    <div class="form-group mb-2">
        <label>Name</label>
        <InputText class="form-control" @bind-Value="leaveType.Name" />
        <ValidationMessage For="@(() => leaveType.Name)" />
    </div>

    <div class="form-group mb-2">
        <label>Description</label>
        <InputTextArea class="form-control" @bind-Value="leaveType.Description" />
    </div>

    <div class="form-group form-check mb-2">
        <InputCheckbox class="form-check-input" @bind-Value="leaveType.IsPaid" />
        <label class="form-check-label">Is Paid</label>
    </div>

    <div class="form-group form-check mb-3">
        <InputCheckbox class="form-check-input" @bind-Value="leaveType.IsActive" />
        <label class="form-check-label">Is Active</label>
    </div>

    <button type="submit" class="btn btn-success">Create</button>
    <button type="button" class="btn btn-secondary" @onclick="Cancel">Cancel</button>

</EditForm>

@code {
    private HRP_LeaveType leaveType = new();

    private async Task HandleValidSubmit()
    {
        await LeaveTypeService.AddAsync(leaveType);
        Navigation.NavigateTo("/leave-types");
    }

    private void Cancel()
    {
        Navigation.NavigateTo("/leave-types");
    }
}
